const maxGuesses=10,full="✔️",half="☑️",empty="❌",rappersArr=["nas","big","pac","jay","kane","g rap","ll","andre","eminem","pun"];let guessesCount=0,currentGuess=[],currentMatch=[],previousGuesses=[],previousMatches=[],guessMatch=[],playerScore=0,previousGuessesMatches=new Map;const startNewGame=document.getElementById("start-game"),playAgain=document.getElementById("play-again"),numbers=document.querySelectorAll(".number"),doOver=document.getElementById("do-over");let backspace=document.getElementById("backspace"),currentGuessDisplay=document.getElementById("current-guess"),guessesRemainingDisplay=document.getElementById("guesses-remaining"),previousGuessesMatchesDisplay=document.getElementById("previous-guesses-matches"),getScore=document.getElementById("score");function getRandomRappers(){let e=rappersArr.sort((()=>.5-Math.random()));bestRappers=e.slice(0,4),console.log(bestRappers)}function guessAnswer(e){bestRappers.length>0&&(currentGuess.push(e),currentGuessDisplay.innerHTML=currentGuess.join(""),console.log(currentGuess),4===currentGuess.length&&(previousGuesses.includes(currentGuess.join(""))?($("#alreadyGuessedModal").modal({show:!0}),deleteGuess()):(guessesCount++,checkGameState())))}function deleteGuess(){currentGuess.length>=1&&(currentGuess.pop(),currentGuessDisplay.innerHTML=currentGuess.join[""])}function timerStart(){var e=30;setInterval((()=>{--e>=0&&(span=document.getElementById("game-timer"),span.innerHTML=e),0===e&&($("#out-of-time").modal({show:!0}),clearInterval(e),resetValues())}),1e3)}function stopTimer(){clearTimeout(timerStart)}function resetGame(){window.location.reload()}function resetValues(){guessesCount=0,currentGuess=[],currentMatch=[],previousGuesses=[],previousMatches=[],guessMatch=[],guessesCount=0,previousGuessesMatches=new Map,currentGuessDisplay.innerHTML=currentGuess,guessesRemainingDisplay.innerHTML=10-guessesCount,previousGuessesMatchesDisplay.innerHTML=""}function startGame(){getRandomRappers(),timerStart(),resetValues()}function displayHistory(){bestRappers.forEach(((e,s)=>{currentGuess[s]===e?currentMatch.push("✔️"):currentGuess.includes(e)?currentMatch.push("☑️"):currentMatch.push("❌")})),currentMatch.sort().reverse(),previousGuesses.push(currentGuess.join("")),previousMatches.push(currentMatch.join("")),previousGuessesMatchesDisplay.innerHTML="",currentGuessDisplay.innerHTML="",currentGuess=[],currentMatch=[],previousGuesses.forEach(((e,s)=>{previousGuessesMatches.set(e,previousMatches[s])})),console.log(previousGuessesMatches);for(const[e,s]of previousGuessesMatches.entries()){let r=document.createElement("div");r.classList.add("col"),r.innerHTML=`${e} <br> ${s}`,previousGuessesMatchesDisplay.appendChild(r)}}function checkGameState(){console.log(currentGuess,bestRappers),currentGuess.every(((e,s)=>e===bestRappers[s]))?(playerScore+=1,getScore.innerHTML=`Score: ${playerScore}`,storeScore.push(playerScore),$("#victoryModal").modal({show:!0}),resetValues()):10===guessesCount?(playerScore=0,getScore.innerHTML=`Score: ${playerScore}`,storeScore.push(playerScore),$("#lostModal").modal({show:!0}),resetValues()):(displayHistory(),guessesRemainingDisplay.innerHTML=10-guessesCount)}startNewGame.addEventListener("click",startGame),playAgain.addEventListener("click",resetGame),backspace.addEventListener("click",deleteGuess),numbers.forEach((e=>{let s=e.innerHTML;e.addEventListener("click",(()=>guessAnswer(s)))})),guessesRemainingDisplay.innerHTML=10-guessesCount;